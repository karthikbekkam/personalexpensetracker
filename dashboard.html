<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Personal Expense Tracker</title>
  <link rel="stylesheet" href="style.css">

  <!-- GitHub Pages Auth Redirect -->
  <script>
    if (!localStorage.getItem("currentUser")) {
      window.location.href = "login.html";
    }
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>

<div class="profile-icon" id="profileIcon">ðŸ‘¤</div>

<div class="profile-box" id="profileBox">
  <p><b>Name:</b> <span id="pName"></span></p>
  <p><b>Email:</b> <span id="pEmail"></span></p>
  <hr>
  <p class="instructions">
    â€¢ Monthly income must contain <b>numbers only</b><br>
    â€¢ Expense description must contain <b>letters only</b><br>
    â€¢ Expenses cannot exceed available balance<br>
    â€¢ Export history before setting new income
  </p>
  <button class="logout-btn" onclick="logout()">Logout</button>
</div>

<h1 class="title">Personal Expense Tracker</h1>

<div class="center-box">
  <input type="number" id="incomeInput" placeholder="Enter Monthly Income">
  <button class="btn-green" onclick="setIncome()">Set Income</button>
</div>

<div class="cards">
  <div class="card green">
    Total Income<br>â‚¹ <span id="totalIncome">0</span>
  </div>
  <div class="card yellow">
    Balance<br>â‚¹ <span id="balance">0</span>
  </div>
</div>

<div class="center-box">
  <input type="text" id="desc" placeholder="Expense Description">
  <input type="number" id="amt" placeholder="Amount">
  <button class="btn-green" onclick="addExpense()">Add Expense</button>
</div>

<h2 class="history-heading">History</h2>

<table>
  <thead>
    <tr>
      <th>Date</th>
      <th>Description</th>
      <th>Amount</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody id="table"></tbody>
</table>

<div class="center-box">
  <button class="clear-btn" onclick="clearAll()">Clear All</button>
  <button class="btn-green" onclick="exportPDF()">Export PDF</button>
</div>

<script src="script.js"></script>
</body>
</html>
